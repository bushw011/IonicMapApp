<ion-header>

  <ion-navbar>
    <ion-title>locations</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

</ion-content>

<ion-content>
  <!--<agm-map [latitude]="userLat" [longitude]="userLong">
    <agm-marker [latitude]="userLat" [longitude]="userLong" [iconUrl]="'assets/imgs/mobileimgs2.png'">
      <agm-info-window>
        <h3><strong>Hello!</strong></h3>
        <p>You are right here!</p>
      </agm-info-window>
    </agm-marker>
    <agm-marker *ngFor="let marker of markers"
                [latitude]="marker.location[0]"
                [longitude]="marker.location[1]" >
      <agm-info-window>
        <h2><strong>{{marker.name}}</strong></h2>
        <p>{{marker.name}} is {{ marker.distance }} kilometers away from you</p>
        <p>{{marker.description}}</p>
      </agm-info-window>
    </agm-marker>
  </agm-map>!-->

  <div *ngIf="markers?.length > 0; else noLocations" class="content">
    <ion-list>
      <ion-item>
      <ion-label>Category:</ion-label>
      <ion-select interface="popover" [(ngModel)]="locationCategory"  (ionChange)="filterLocations(locationCategory)">
        <ion-option value="">All</ion-option>
        <ion-option value="Home & Auto">Home & Auto</ion-option>
        <ion-option value="Home">Home</ion-option>
        <ion-option value="Auto">Auto</ion-option>
      </ion-select>
      </ion-item>
      <ion-item>
      <ion-label>Select Radius</ion-label>
      <ion-select interface="popover" [(ngModel)]="radius" (ionChange)="searchNewRadius(radius)">
        <ion-option [value]=500>500 km</ion-option>
        <ion-option [value]=250>250 km</ion-option>
        <ion-option [value]=100>100 km</ion-option>
      </ion-select>
      </ion-item>
    </ion-list>
      <ion-list class="location-list">
        <button ion-item (click)="createLocation()" >Seed DB <p>(this is temporary and strictly for testing)</p></button>
        <button ion-item *ngFor="let marker of filterLocations(locationCategory)"><strong>{{marker.name}}: </strong>{{marker.category}}<p>{{marker.description}}</p></button>
      </ion-list>
  </div>

  <ng-template #noLocations>
    <hr>
    <h5>There are no locations available</h5>
  </ng-template>
</ion-content>
